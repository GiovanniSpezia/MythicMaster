<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MythicMaster ‚Äì Prenotazione D&D</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="img/Logo.png" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <!-- SDK PayPal -->
    <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR"></script>
</head>
<body>

    <!-- Sidebar Social -->
    <div class="social-sidebar">
        <a href="https://discord.mythicmaster.it" class="discord" target="_blank"><i class="fab fa-discord"></i></a>
        <a href="https://www.instagram.com/mythicmaster.it" class="instagram" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.youtube.com/@mythicmaster" class="youtube" target="_blank"><i class="fab fa-youtube"></i></a>
        <a href="https://www.tiktok.com/@mythicmaster.it" class="tiktok" target="_blank"><i class="fab fa-tiktok"></i></a>
        <a href="mailto:info@mythicmaster.it" class="mail"><i class="fas fa-envelope"></i></a>
    </div>

    <!-- Navbar -->
    <header>
        <nav>
            <a href="/"><img src="img/Logo.png" alt="MythicMaster Logo" class="logo"></a>

            <ul class="desktop-menu" role="menubar" aria-label="Menu principale">
                <li role="none"><a role="menuitem" href="/">Home</a></li>
                <li role="none"><a role="menuitem" href="/eventi">Eventi</a></li>
                <li role="none"><a role="menuitem" href="/GDR">GDR</a></li>

                <li class="has-dropdown" role="none">
                    <button class="dropdown-toggle" aria-expanded="false" aria-controls="dd-submenu" aria-haspopup="true">D&D</button>
                    <ul id="dd-submenu" class="dropdown" role="menu" aria-label="Sottomenu D&D">
                        <li role="none"><a role="menuitem" href="/D&D">Cos'√® D&D?</a></li>
                        <li role="none"><a role="menuitem" href="/D&Djuniors">D&D Juniors</a></li>
                        <li role="none"><a role="menuitem" href="/manuali">Manuali</a></li>
                    </ul>
                </li>

                <li role="none"><a role="menuitem" href="/dadi">Dadi</a></li>
                <li role="none"><a role="menuitem" href="https://store.mythicmaster.it">Store</a></li>
                <li role="none"><a role="menuitem" href="/staff">Staff</a></li>
            </ul>

            <a href="/contact" class="btn cta-btn">Contattaci</a>

            <button class="mobile-menu-icon" id="mobileToggle" aria-controls="mobileMenu" aria-expanded="false" aria-label="Apri menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>

            <aside id="mobileMenu" class="mobile-menu" aria-hidden="true" role="dialog" aria-label="Menu mobile">
                <nav>
                    <ul class="mobile-list">
                        <li style="--i:1"><a href="/">Home</a></li>
                        <li style="--i:2"><a href="/eventi">Eventi</a></li>
                        <li style="--i:3"><a href="/GDR">GDR</a></li>

                        <li class="mobile-has-dropdown" style="--i:4">
                            <button class="mobile-dropdown-toggle" aria-expanded="false">D&D</button>
                            <ul class="mobile-submenu">
                                <li><a href="/D&D">Cos'√® D&D?</a></li>
                                <li><a href="/D&Djuniors">D&D Juniors</a></li>
                                <li><a href="/manuali">Manuali</a></li>
                            </ul>
                        </li>

                        <li style="--i:5"><a href="/dadi">Dadi</a></li>
                        <li style="--i:6"><a href="https://store.mythicmaster.it">Store</a></li>
                        <li style="--i:7"><a href="/staff">Staff</a></li>
                        <li class="mobile-contact" style="--i:8"><a href="/contact" class="btn cta-btn">Contattaci</a></li>
                    </ul>
                </nav>
            </aside>
        </nav>
    </header>

    <!-- Modulo Prenotazione -->
    <main>
        <section class="booking-form">
            <h2>üßô‚Äç‚ôÇÔ∏è Prenota la tua One-Shot D&D</h2>
            <p class="form-desc">
                Compila il modulo per prenotare la tua sessione con <strong>MythicMaster</strong>.<br>
                Effettua il pagamento con PayPal o carta, poi invia la tua prenotazione.
            </p>

            <form id="prenotazioneForm" class="styled-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nome">Nome</label>
                        <input type="text" id="nome" required placeholder="Inserisci il tuo nome">
                    </div>

                    <div class="form-group">
                        <label for="cognome">Cognome</label>
                        <input type="text" id="cognome" required placeholder="Inserisci il tuo cognome">
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required placeholder="esempio@email.com">
                    </div>

                    <div class="form-group">
                        <label for="telefono">Numero di cellulare</label>
                        <input type="tel" id="telefono" required placeholder="+39 333 1234567">
                    </div>

                    <div class="form-group full">
                        <label for="richiesta">Richiesta</label>
                        <select id="richiesta" required>
                            <option value="">Seleziona una richiesta</option>
                            <option value="oneshot">One-Shot Classica</option>
                            <option value="campagna">Mini Campagna</option>
                            <option value="evento">Evento Personalizzato</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="persone">Persone</label>
                        <input type="number" id="persone" min="1" max="10" required>
                    </div>

                    <div class="form-group">
                        <label for="quando">Quando</label>
                        <input type="date" id="quando" required>
                    </div>

                    <div class="form-group">
                        <label for="modalita">Modalit√†</label>
                        <select id="modalita" required>
                            <option value="">Seleziona</option>
                            <option value="online">Online (Discord o Roll20)</option>
                            <option value="presenza">In Presenza</option>
                        </select>
                    </div>

                    <div class="form-group full">
                        <label for="dove">Dove (se in presenza)</label>
                        <input type="text" id="dove" placeholder="Citt√† o indirizzo">
                    </div>

                    <div class="form-group full">
                        <label for="messaggio">Messaggio</label>
                        <textarea id="messaggio" rows="4" placeholder="Scrivi eventuali note o richieste..."></textarea>
                    </div>
                </div>

                <h3 class="payment-title">üí≥ Metodo di Pagamento</h3>
                <p class="payment-desc">Scegli tra PayPal o Carta</p>

                <div class="payment-buttons">
                    <div id="paypal-button-container"></div>
                    <div class="paypal-fallback">
                        <p>Oppure paga direttamente qui:</p>
                        <a href="https://www.paypal.com/paypalme/giospezia" target="_blank" class="paypal-link">
                            üí∞ Paga su PayPal.me
                        </a>
                    </div>
                </div>

                <button type="submit" class="btn-submit"><i class="fas fa-dice-d20"></i> Invia Prenotazione</button>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="about">
                <h3>MythicMaster</h3>
                <p>Il tuo portale per campagne D&D personalizzate e coinvolgenti. Esplora nuovi mondi con noi!</p>
            </div>
            <div class="quick-links">
                <h3>Link Utili</h3>
                <ul>
                    <li><a href="https://discord.gg/hrdwByXYyW" target="_blank">Discord</a></li>
                    <li><a href="https://www.instagram.com/mythicmaster.it" target="_blank">Instagram</a></li>
                    <li><a href="contact.html">Contattaci</a></li>
                </ul>
            </div>
            <div class="social-icons">
                <h3>Info Utili</h3>
                <ul>
                    <li><a style="background-color:#c470ff;color:white;" href="mailto:info@mythicmaster.it">info@mythicmaster.it</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 MythicMaster. Tutti i diritti riservati.</p>
            <a href="privacy.html" target="_blank">Informativa sulla Privacy e Consenso</a>
        </div>
    </footer>

        <script>
        // MAILTO
        document.getElementById("prenotazioneForm").addEventListener("submit", function(e) {
            e.preventDefault();

            // Recupero dei valori dai campi del form
            const nome = document.getElementById("nome").value;
            const cognome = document.getElementById("cognome").value;
            const email = document.getElementById("email").value;
            const telefono = document.getElementById("telefono").value;
            const richiesta = document.getElementById("richiesta").value;
            const persone = document.getElementById("persone").value;
            const quando = document.getElementById("quando").value;
            const modalita = document.getElementById("modalita").value;
            const dove = document.getElementById("dove").value;
            const messaggio = document.getElementById("messaggio").value;

            // Costruzione email
            const subject = encodeURIComponent("Prenotazione One-Shot D&D ‚Äì MythicMaster");
            const body = encodeURIComponent(
                `üßô‚Äç‚ôÇÔ∏è Nuova Prenotazione MythicMaster\n\n` +
                `üë§ Nome: ${nome} ${cognome}\n` +
                `üìß Email: ${email}\n` +
                `üìû Telefono: ${telefono}\n` +
                `üìú Tipo di Richiesta: ${richiesta}\n` +
                `üë• Persone: ${persone}\n` +
                `üìÖ Data: ${quando}\n` +
                `üåê Modalit√†: ${modalita}\n` +
                `üìç Dove: ${dove || "‚Äî"}\n\n` +
                `üí¨ Messaggio:\n${messaggio || "Nessun messaggio"}` +
                `\n\nüí≥ Pagamento effettuato tramite PayPal.` + 
                `\n\nGrazie per aver scelto MythicMaster!` + 
                `\nCi metteremo in contatto con te al pi√π presto.` +
                `\n\n--\nMythicMaster Team`
            );

            // Apertura client di posta con campi compilati
            window.location.href = `mailto:info@mythicmaster.it?subject=${subject}&body=${body}`;
        });

        // PAYPAL BUTTON
        paypal.Buttons({
            style: { layout: 'vertical', color: 'gold', shape: 'pill', label: 'paypal' },
            createOrder: (data, actions) => actions.order.create({
                purchase_units: [{ amount: { value: '15.00' }, description: "Prenotazione One-Shot D&D ‚Äì MythicMaster" }]
            }),
            onApprove: (data, actions) => actions.order.capture().then(details => {
                alert('Pagamento completato da ' + details.payer.name.given_name + '!');
            })
        }).render('#paypal-button-container');
    </script>

    <script src="js/script.js"></script>
</body>
</html>