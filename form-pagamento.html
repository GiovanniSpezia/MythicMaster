<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MythicMaster ‚Äì Prenotazione D&D</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="img/Logo.png" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <!-- SDK PayPal -->
    <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR"></script>
</head>
<body>

    <!-- Sidebar Social -->
    <div class="social-sidebar">
        <a href="https://discord.mythicmaster.it" class="discord" target="_blank"><i class="fab fa-discord"></i></a>
        <a href="https://www.instagram.com/mythicmaster.it" class="instagram" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.youtube.com/@mythicmaster" class="youtube" target="_blank"><i class="fab fa-youtube"></i></a>
        <a href="https://www.tiktok.com/@mythicmaster.it" class="tiktok" target="_blank"><i class="fab fa-tiktok"></i></a>
        <a href="mailto:info@mythicmaster.it" class="mail"><i class="fas fa-envelope"></i></a>
    </div>

    <!-- Navbar -->
    <header>
        <nav>
            <a href="https://mythicmaster.it"><img src="img/Logo.png" alt="MythicMaster Logo" class="logo"></a>
            <ul class="desktop-menu">
                <li><a href="https://mythicmaster.it">Home</a></li>
                <li><a href="eventi.html">Eventi</a></li>
                <li><a href="GDR.html">GDR</a></li>
                <li class="has-dropdown">
                    <button class="dropdown-toggle">D&D ‚ñæ</button>
                    <ul class="dropdown">
                        <li><a href="D&D.html">Cos'√® D&D?</a></li>
                        <li><a href="D&Djuniors.html">D&D Juniors</a></li>
                        <li><a href="manuali.html">Manuali</a></li>
                    </ul>
                </li>
                <li><a href="dadi.html">Dadi</a></li>
                <li><a href="https://store.mythicmaster.it">Store</a></li>
                <li><a href="staff.html">Staff</a></li>
            </ul>
            <a href="contact.html" class="btn cta-btn">Contattaci</a>
            <button class="mobile-menu-icon" id="mobileToggle">‚ò∞</button>
        </nav>
    </header>

    <!-- Modulo Prenotazione -->
    <main>
        <section class="booking-form">
            <h2>üßô‚Äç‚ôÇÔ∏è Prenota la tua One-Shot D&D</h2>
            <p class="form-desc">
                Compila il modulo per prenotare la tua sessione con <strong>MythicMaster</strong>.<br>
                Effettua il pagamento con PayPal o carta, poi invia la tua prenotazione.
            </p>

            <form id="prenotazioneForm" class="styled-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nome">Nome</label>
                        <input type="text" id="nome" required placeholder="Inserisci il tuo nome">
                    </div>

                    <div class="form-group">
                        <label for="cognome">Cognome</label>
                        <input type="text" id="cognome" required placeholder="Inserisci il tuo cognome">
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required placeholder="esempio@email.com">
                    </div>

                    <div class="form-group">
                        <label for="telefono">Numero di cellulare</label>
                        <input type="tel" id="telefono" required placeholder="+39 333 1234567">
                    </div>

                    <div class="form-group full">
                        <label for="richiesta">Richiesta</label>
                        <select id="richiesta" required>
                            <option value="">Seleziona una richiesta</option>
                            <option value="oneshot">One-Shot Classica</option>
                            <option value="campagna">Mini Campagna</option>
                            <option value="evento">Evento Personalizzato</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="persone">Persone</label>
                        <input type="number" id="persone" min="1" max="10" required>
                    </div>

                    <div class="form-group">
                        <label for="quando">Quando</label>
                        <input type="date" id="quando" required>
                    </div>

                    <div class="form-group">
                        <label for="modalita">Modalit√†</label>
                        <select id="modalita" required>
                            <option value="">Seleziona</option>
                            <option value="online">Online (Discord o Roll20)</option>
                            <option value="presenza">In Presenza</option>
                        </select>
                    </div>

                    <div class="form-group full">
                        <label for="dove">Dove (se in presenza)</label>
                        <input type="text" id="dove" placeholder="Citt√† o indirizzo">
                    </div>

                    <div class="form-group full">
                        <label for="messaggio">Messaggio</label>
                        <textarea id="messaggio" rows="4" placeholder="Scrivi eventuali note o richieste..."></textarea>
                    </div>
                </div>

                <h3 class="payment-title">üí≥ Metodo di Pagamento</h3>
                <p class="payment-desc">Scegli tra PayPal o Carta</p>

                <div class="payment-buttons">
                    <div id="paypal-button-container"></div>
                    <div class="paypal-fallback">
                        <p>Oppure paga direttamente qui:</p>
                        <a href="https://www.paypal.com/paypalme/giospezia" target="_blank" class="paypal-link">
                            üí∞ Paga su PayPal.me
                        </a>
                    </div>
                </div>

                <button type="submit" class="btn-submit"><i class="fas fa-dice-d20"></i> Invia Prenotazione</button>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="about">
                <h3>MythicMaster</h3>
                <p>Il tuo portale per campagne D&D personalizzate e coinvolgenti. Esplora nuovi mondi con noi!</p>
            </div>
            <div class="quick-links">
                <h3>Link Utili</h3>
                <ul>
                    <li><a href="https://discord.gg/hrdwByXYyW" target="_blank">Discord</a></li>
                    <li><a href="https://www.instagram.com/mythicmaster.it" target="_blank">Instagram</a></li>
                    <li><a href="contact.html">Contattaci</a></li>
                </ul>
            </div>
            <div class="social-icons">
                <h3>Info Utili</h3>
                <ul>
                    <li><a style="background-color:#c470ff;color:white;" href="mailto:info@mythicmaster.it">info@mythicmaster.it</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 MythicMaster. Tutti i diritti riservati.</p>
            <a href="privacy.html" target="_blank">Informativa sulla Privacy e Consenso</a>
        </div>
    </footer>

    <script>
        // MAILTO
        document.getElementById("prenotazioneForm").addEventListener("submit", function(e) {
            e.preventDefault();
            const nome = nome.value, cognome = cognome.value, email = email.value, telefono = telefono.value;
            const richiesta = richiesta.value, persone = persone.value, quando = quando.value;
            const modalita = modalita.value, dove = dove.value, messaggio = messaggio.value;
            const subject = encodeURIComponent("Prenotazione One-Shot D&D ‚Äì MythicMaster");
            const body = encodeURIComponent(
                `Nome: ${nome}\nCognome: ${cognome}\nEmail: ${email}\nTelefono: ${telefono}\n` +
                `Richiesta: ${richiesta}\nPersone: ${persone}\nData: ${quando}\nModalit√†: ${modalita}\nDove: ${dove}\n\nMessaggio:\n${messaggio}`
            );
            window.location.href = `mailto:info@mythicmaster.it?subject=${subject}&body=${body}`;
        });

        // PAYPAL BUTTON
        paypal.Buttons({
            style: { layout: 'vertical', color: 'gold', shape: 'pill', label: 'paypal' },
            createOrder: (data, actions) => actions.order.create({
                purchase_units: [{ amount: { value: '15.00' }, description: "Prenotazione One-Shot D&D ‚Äì MythicMaster" }]
            }),
            onApprove: (data, actions) => actions.order.capture().then(details => {
                alert('Pagamento completato da ' + details.payer.name.given_name + '!');
            })
        }).render('#paypal-button-container');
    </script>

    <script src="js/script.js"></script>
</body>
</html>